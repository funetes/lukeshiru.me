<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="spin-element">
	<template>
		<style>
		@keyframes spin {
			to { transform: rotate(360deg); }
		}
		@keyframes inverted {
			to { transform: rotate(-360deg); }
		}
		:host {
			--animation: [[animation]];
			--rpm: [[rpm]];
			animation: var(--animation) calc(60s / var(--rpm)) linear infinite;
			display: flex;
			font-size: 0;
			transform: rotate(0deg);
			will-change: transform;
		}
		</style>
		<slot></slot>
	</template>
	<script>
		class SpinElement extends Polymer.Element {
			static get is() { return 'spin-element'; }
			static get properties() {
				return {
					rpm: {
						type: Number,
						value: 0
					},
					animation: {
						type: String,
						computed: "_computeAnimation(inverted)"
					},
					inverted: {
						type: Boolean,
						value: false
					}
				};
			}
			_computeAnimation(inverted) {
				return inverted ? "inverted" : "spin";
			}
		}
		window.customElements.define(SpinElement.is, SpinElement);
	</script>
</dom-module>
